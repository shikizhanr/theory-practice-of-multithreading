# üï∑Ô∏è Spring Boot Web Crawler

–ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–π –≤–µ–±-–∫—Ä–∞—É–ª–µ—Ä –¥–ª—è —Å–±–æ—Ä–∞ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (Email, –¢–µ–ª–µ—Ñ–æ–Ω—ã) —Å –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü.
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–±—Ö–æ–¥–∏—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–π URL, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö H2 –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

---

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
* **Java 17**
* **Spring Boot 3.2.x** (Web, Data JPA)
* **Maven** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
* **Jsoup** ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ HTML-—Å—Ç—Ä–∞–Ω–∏—Ü
* **H2 Database** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏
* **Lombok** ‚Äî –¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –∫–æ–¥–∞
* **Concurrency** ‚Äî `ExecutorService`, `CompletableFuture` (–º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å)
* **Stream API** ‚Äî —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

---

## –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `src/main/java/com/example/crawler/CrawlerApplication.java`.
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–µ—Ç–æ–¥ `main`.

## API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã
1. –ó–∞–ø—É—Å–∫ –∫—Ä–∞—É–ª–µ—Ä–∞
–ò–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –ø–∞—Ä—Å–∏–Ω–≥–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Å–∞–π—Ç–∞.

- URL: `/run`
- –ú–µ—Ç–æ–¥: `GET`
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
    - `url` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) ‚Äî –∞–¥—Ä–µ—Å —Å–∞–π—Ç–∞ –¥–ª—è —Å—Ç–∞—Ä—Ç–∞.

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:
```
http://localhost:8080/run?url=[https://www.vyatsu.ru/contacts](https://www.vyatsu.ru/contacts)
```

2. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Parallel Stream API –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö.

- URL: `/answer`
- –ú–µ—Ç–æ–¥: `GET`
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
    - `typeFilter` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Äî —Ç–∏–ø –∫–æ–Ω—Ç–∞–∫—Ç–∞ (`EMAIL` –∏–ª–∏ `PHONE`). –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `EMAIL`.
    - `sortNewest` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Äî —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞. `true` (—Å–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ), `false` (—Å–Ω–∞—á–∞–ª–∞ —Å—Ç–∞—Ä—ã–µ).

–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–∞(–ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ç–µ–ª–µ—Ñ–æ–Ω—ã –∏ email-–∞–¥—Ä–µ—Å–∞):
```
http://localhost:8080/answer?typeFilter=PHONE&sortNewest=true

http://localhost:8080/answer?typeFilter=EMAIL
```

## –î–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö (H2 Console)
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8080/h2-console
2. –í–≤–µ–¥–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
- Driver Class: org.h2.Driver
- JDBC URL: jdbc:h2:mem:testdb
- User Name: sa
- Password: (–æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º)
3. Connect
4. `SELECT * FROM CONTACTS;`


## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `config/` ‚Äî –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—É–ª–∞ –ø–æ—Ç–æ–∫–æ–≤ (ExecutorService).

- `controller/` ‚Äî REST –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤.

- `model/` ‚Äî JPA —Å—É—â–Ω–æ—Å—Ç–∏ (ContactData).

- `repository/` ‚Äî –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î.

- `service/` ‚Äî –õ–æ–≥–∏–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ (Jsoup) –∏ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è.